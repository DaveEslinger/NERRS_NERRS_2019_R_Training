---
title: "What's New With Status Report"
author: "Dave Eslinger and Kim Cressman"
date: "11/13/2019"
output: ioslides_presentation
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = FALSE)
library(SWMPrExtension)
path <- './data'
qaFlags <- c('0', '3', '5')

```

## SWMP Status Report Update

- 2018 data has been processed and all graphics are available at CDMO:
  http://cdmo.baruch.sc.edu/waf/nerrs_swamp_status_reports/
- However, these reports use the old Excel content and R scripts.

That means:

- **Graphs** all scale with 0. as their lowest Y-value.
- **Graphs** all use non-metric units.
- The text and pictures are all from the old, boiler-plate 2016 product.

Graphs and units *may* need updating, the text, at least, **must** be updated.

## New: Y range determined by data

- New flag in Excel spreadsheet to specify how Y-axis scaling should work,
and the SWMPrExtension package code updated to use the new flag.

## Negative values work OK,
```{r box-plot-1, warning=FALSE, out.width='50%', fig.show='hold' }
df <- import_local(path,'lkspomet2018')
df <- qaqc(df, qaqc_keep = qaFlags)
raw_boxplot(df, param = 'atemp', plot_title = TRUE, target_yr = '2018')
raw_boxplot(df, param = 'atemp', plot_title = TRUE, target_yr = '2018', free_y = FALSE)
#raw_boxplot(df, param = 'bp', plot_title = TRUE, target_yr = '2017')
#raw_boxplot(df, param = 'bp', plot_title = TRUE, target_yr = '2017', free_y = TRUE)
```
But positive values don't scale well.
```{r box-plot-news2, warning=FALSE, out.width='50%', fig.show='hold' }
df <- import_local(path,'jobjbmet2017')
df <- qaqc(df, qaqc_keep = qaFlags)
#raw_boxplot(df, param = 'atemp', plot_title = TRUE, target_yr = '2017')
#raw_boxplot(df, param = 'atemp', plot_title = TRUE, target_yr = '2017', free_y = TRUE)
raw_boxplot(df, param = 'bp', plot_title = TRUE, target_yr = '2017')
raw_boxplot(df, param = 'bp', plot_title = TRUE, target_yr = '2017', free_y = TRUE)
```

## New: Bug fixes

- Fixed font error in `seasonal-dot.R` fixed. Only seen in updated R, so this worked previously.



